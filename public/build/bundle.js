var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function l(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function s(e){let t;return c(e,(e=>t=e))(),t}function u(e,t,n){e.$$.on_destroy.push(c(t,n))}function a(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function g(e){return document.createTextNode(e)}function m(){return g(" ")}function p(){return g("")}function b(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function y(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function $(e,t){e.value=null==t?"":t}function w(e,t,n){e.classList[n?"add":"remove"](t)}let x;function _(e){x=e}const k=[],C=[],G=[],E=[],Y=Promise.resolve();let A=!1;function S(e){G.push(e)}const j=new Set;let q=0;function z(){const e=x;do{for(;q<k.length;){const e=k[q];q++,_(e),L(e.$$)}for(_(null),k.length=0,q=0;C.length;)C.pop()();for(let e=0;e<G.length;e+=1){const t=G[e];j.has(t)||(j.add(t),t())}G.length=0}while(k.length);for(;E.length;)E.pop()();A=!1,j.clear(),_(e)}function L(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(S)}}const N=new Set;function O(e,t){e&&e.i&&(N.delete(e),e.i(t))}function P(e,t,n,r){if(e&&e.o){if(N.has(e))return;N.add(e),undefined.c.push((()=>{N.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function T(e){e&&e.c()}function D(e,n,o,c){const{fragment:s,on_mount:u,on_destroy:a,after_update:i}=e.$$;s&&s.m(n,o),c||S((()=>{const n=u.map(t).filter(l);a?a.push(...n):r(n),e.$$.on_mount=[]})),i.forEach(S)}function K(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function M(e,t){-1===e.$$.dirty[0]&&(k.push(e),A||(A=!0,Y.then(z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function B(t,l,o,c,s,u,a,i=[-1]){const d=x;_(t);const h=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(d?d.$$.context:[])),callbacks:n(),dirty:i,skip_bound:!1,root:l.target||d.$$.root};a&&a(h.root);let g=!1;if(h.ctx=o?o(t,l.props||{},((e,n,...r)=>{const l=r.length?r[0]:n;return h.ctx&&s(h.ctx[e],h.ctx[e]=l)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](l),g&&M(t,e)),n})):[],h.update(),g=!0,r(h.before_update),h.fragment=!!c&&c(h.ctx),l.target){if(l.hydrate){const e=function(e){return Array.from(e.childNodes)}(l.target);h.fragment&&h.fragment.l(e),e.forEach(f)}else h.fragment&&h.fragment.c();l.intro&&O(t.$$.fragment),D(t,l.target,l.anchor,l.customElement),z()}_(d)}class H{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var R;!function(e){e[e.Gray=0]="Gray",e[e.Yellow=1]="Yellow",e[e.Green=2]="Green"}(R||(R={}));class U{constructor(){this.value="",this.color=R.Gray}}const F=[];function I(e,t){return{subscribe:J(e,t).subscribe}}function J(t,n=e){let r;const l=new Set;function c(e){if(o(t,e)&&(t=e,r)){const e=!F.length;for(const e of l)e[1](),F.push(e,t);if(e){for(let e=0;e<F.length;e+=2)F[e][0](F[e+1]);F.length=0}}}return{set:c,update:function(e){c(e(t))},subscribe:function(o,s=e){const u=[o,s];return l.add(u),1===l.size&&(r=n(c)||e),o(t),()=>{l.delete(u),0===l.size&&(r(),r=null)}}}}class Q{constructor(){this.characters=Array.from({length:5},(()=>new U)),this._characterCount=0,this._isSubmitted=!1}get isSubmitted(){return this._isSubmitted}addCharacter(e){5!==this._characterCount&&(this.characters[this._characterCount++].value=e)}deleteCharacter(){0!==this._characterCount&&(this.characters[this._characterCount---1].value="")}submit(e){if(this._characterCount<5)return!1;this._isSubmitted=!0;const t={};return[...e].forEach((e=>{e in t||(t[e]=0),t[e]++})),this.characters.forEach(((n,r)=>{n.value===e.charAt(r)&&t[n.value]--})),this.characters.forEach(((n,r)=>{n.value===e.charAt(r)?n.color=R.Green:t[n.value]>0&&(n.color=R.Yellow)})),!0}}var V;!function(e){const t="abcdefghijklmnopqrstuvwxyz",n=[11,13,17,19,23];e.decode=e=>[...e.toLowerCase()].map(((e,t)=>l(e,n[t]))).join(""),e.encode=e=>[...e.toLowerCase()].map(((e,t)=>r(e,n[t]))).join("");const r=(e,n)=>t.charAt((t.indexOf(e)+n)%t.length),l=(e,n)=>{let r=(t.indexOf(e)-n)%t.length;for(;r<0;)r+=t.length;return t.charAt(r)}}(V||(V={}));var W=V;const X=new URLSearchParams(window.location.search),Z=I(X.get("id")),ee=(()=>{const{subscribe:e,update:t}=J(Array.from({length:6},(()=>new Q)));let n=0;return{addCharacter:e=>t((t=>(t[n].addCharacter(e),t))),deleteCharacter:()=>t((e=>(e[n].deleteCharacter(),e))),submitGuess:()=>t((e=>(e[n].submit(W.decode(s(Z)))&&(e[n].characters.forEach((e=>{ne.setKeyColor(e.value,e.color)})),n++),e))),subscribe:e}})(),te=I(null!==X.get("id")),ne=(()=>{const{subscribe:e,update:t}=J([..."abcdefghijklmnopqrstuvwxyz"].reduce(((e,t)=>(e[t]=null,e)),{}));return{setKeyColor:(e,n)=>t((t=>{switch(n){case R.Green:t[e]=n;break;case R.Yellow:t[e]!==R.Green&&(t[e]=n);break;case R.Gray:t[e]!==R.Green&&t[e]!==R.Yellow&&(t[e]=n)}return t})),subscribe:e}})();function re(e,t,n){const r=e.slice();return r[1]=t[n],r}function le(e,t,n){const r=e.slice();return r[4]=t[n],r}function oe(e){let t,n,r,l=e[4].value+"";return{c(){t=h("div"),n=g(l),r=m(),y(t,"class","guess-cell svelte-1g6qsq"),w(t,"submitted",e[1].isSubmitted),w(t,"green",e[4].color===R.Green),w(t,"yellow",e[4].color===R.Yellow)},m(e,l){i(e,t,l),a(t,n),a(t,r)},p(e,r){1&r&&l!==(l=e[4].value+"")&&v(n,l),1&r&&w(t,"submitted",e[1].isSubmitted),1&r&&w(t,"green",e[4].color===R.Green),1&r&&w(t,"yellow",e[4].color===R.Yellow)},d(e){e&&f(t)}}}function ce(e){let t,n=e[1].characters,r=[];for(let t=0;t<n.length;t+=1)r[t]=oe(le(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=p()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);i(e,t,n)},p(e,l){if(1&l){let o;for(n=e[1].characters,o=0;o<n.length;o+=1){const c=le(e,n,o);r[o]?r[o].p(c,l):(r[o]=oe(c),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){d(r,e),e&&f(t)}}}function se(t){let n,r=t[0],l=[];for(let e=0;e<r.length;e+=1)l[e]=ce(re(t,r,e));return{c(){n=h("div");for(let e=0;e<l.length;e+=1)l[e].c();y(n,"class","guess-grid svelte-1g6qsq")},m(e,t){i(e,n,t);for(let e=0;e<l.length;e+=1)l[e].m(n,null)},p(e,[t]){if(1&t){let o;for(r=e[0],o=0;o<r.length;o+=1){const c=re(e,r,o);l[o]?l[o].p(c,t):(l[o]=ce(c),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=r.length}},i:e,o:e,d(e){e&&f(n),d(l,e)}}}function ue(e,t,n){let r;return u(e,ee,(e=>n(0,r=e))),[r]}class ae extends H{constructor(e){super(),B(this,e,ue,se,o,{})}}function ie(e,t,n){const r=e.slice();return r[2]=t[n],r}function fe(e,t,n){const r=e.slice();return r[2]=t[n],r}function de(e,t,n){const r=e.slice();return r[2]=t[n],r}function he(e){let t,n,r,l;return{c(){t=h("button"),n=g(e[2]),r=m(),y(t,"data-key",l=e[2]),y(t,"class","svelte-186152i"),w(t,"gray",e[0][e[2]]===R.Gray),w(t,"green",e[0][e[2]]===R.Green),w(t,"yellow",e[0][e[2]]===R.Yellow)},m(e,l){i(e,t,l),a(t,n),a(t,r)},p(e,n){1&n&&w(t,"gray",e[0][e[2]]===R.Gray),1&n&&w(t,"green",e[0][e[2]]===R.Green),1&n&&w(t,"yellow",e[0][e[2]]===R.Yellow)},d(e){e&&f(t)}}}function ge(e){let t,n,r;return{c(){t=h("button"),n=g(e[2]),y(t,"data-key",r=e[2]),y(t,"class","svelte-186152i"),w(t,"gray",e[0][e[2]]===R.Gray),w(t,"green",e[0][e[2]]===R.Green),w(t,"yellow",e[0][e[2]]===R.Yellow)},m(e,r){i(e,t,r),a(t,n)},p(e,n){1&n&&w(t,"gray",e[0][e[2]]===R.Gray),1&n&&w(t,"green",e[0][e[2]]===R.Green),1&n&&w(t,"yellow",e[0][e[2]]===R.Yellow)},d(e){e&&f(t)}}}function me(e){let t,n,r;return{c(){t=h("button"),n=g(e[2]),y(t,"data-key",r=e[2]),y(t,"class","svelte-186152i"),w(t,"gray",e[0][e[2]]===R.Gray),w(t,"green",e[0][e[2]]===R.Green),w(t,"yellow",e[0][e[2]]===R.Yellow)},m(e,r){i(e,t,r),a(t,n)},p(e,n){1&n&&w(t,"gray",e[0][e[2]]===R.Gray),1&n&&w(t,"green",e[0][e[2]]===R.Green),1&n&&w(t,"yellow",e[0][e[2]]===R.Yellow)},d(e){e&&f(t)}}}function pe(t){let n,r,l,o,c,s,u,g,p,v,$,w,x,_,k,C,G=[..."qwertyuiop"],E=[];for(let e=0;e<G.length;e+=1)E[e]=he(de(t,G,e));let Y=[..."asdfghjkl"],A=[];for(let e=0;e<Y.length;e+=1)A[e]=ge(fe(t,Y,e));let S=[..."zxcvbnm"],j=[];for(let e=0;e<S.length;e+=1)j[e]=me(ie(t,S,e));return{c(){n=h("div"),r=h("div");for(let e=0;e<E.length;e+=1)E[e].c();l=m(),o=h("div"),c=h("div"),s=m();for(let e=0;e<A.length;e+=1)A[e].c();u=m(),g=h("div"),p=m(),v=h("div"),$=h("button"),$.textContent="enter",w=m();for(let e=0;e<j.length;e+=1)j[e].c();x=m(),_=h("button"),_.textContent="delete",y(r,"class","row svelte-186152i"),y(c,"class","spacer svelte-186152i"),y(g,"class","spacer svelte-186152i"),y(o,"class","row svelte-186152i"),y($,"data-key","enter"),y($,"class","svelte-186152i"),y(_,"data-key","delete"),y(_,"class","svelte-186152i"),y(v,"class","row svelte-186152i"),y(n,"class","keyboard svelte-186152i")},m(e,f){i(e,n,f),a(n,r);for(let e=0;e<E.length;e+=1)E[e].m(r,null);a(n,l),a(n,o),a(o,c),a(o,s);for(let e=0;e<A.length;e+=1)A[e].m(o,null);a(o,u),a(o,g),a(n,p),a(n,v),a(v,$),a(v,w);for(let e=0;e<j.length;e+=1)j[e].m(v,null);a(v,x),a(v,_),k||(C=b(n,"click",t[1]),k=!0)},p(e,[t]){if(1&t){let n;for(G=[..."qwertyuiop"],n=0;n<G.length;n+=1){const l=de(e,G,n);E[n]?E[n].p(l,t):(E[n]=he(l),E[n].c(),E[n].m(r,null))}for(;n<E.length;n+=1)E[n].d(1);E.length=G.length}if(1&t){let n;for(Y=[..."asdfghjkl"],n=0;n<Y.length;n+=1){const r=fe(e,Y,n);A[n]?A[n].p(r,t):(A[n]=ge(r),A[n].c(),A[n].m(o,u))}for(;n<A.length;n+=1)A[n].d(1);A.length=Y.length}if(1&t){let n;for(S=[..."zxcvbnm"],n=0;n<S.length;n+=1){const r=ie(e,S,n);j[n]?j[n].p(r,t):(j[n]=me(r),j[n].c(),j[n].m(v,x))}for(;n<j.length;n+=1)j[n].d(1);j.length=S.length}},i:e,o:e,d(e){e&&f(n),d(E,e),d(A,e),d(j,e),k=!1,C()}}}function be(e,t,n){let r;u(e,ne,(e=>n(0,r=e)));return[r,e=>{const t=e.target;if(!t.matches("button"))return;const n=t.dataset.key;switch(n){case"enter":ee.submitGuess();break;case"delete":ee.deleteCharacter();break;default:ee.addCharacter(n)}}]}class ye extends H{constructor(e){super(),B(this,e,be,pe,o,{})}}function ve(e){let t,n,l,o,c,s,u,d,g,p,v,x,_,k;function C(e,t){return e[0].length>0?xe:e[1].length>0?we:$e}let G=C(e),E=G(e);return{c(){t=h("div"),n=h("dialog"),l=h("h1"),l.textContent="Create a Puzzle",o=m(),c=h("label"),c.textContent="Enter a five-letter word",s=m(),u=h("div"),d=h("input"),g=m(),p=h("button"),p.innerHTML='<span class="material-icons">add_link</span>',v=m(),x=h("span"),E.c(),y(l,"class","svelte-1ln4fy5"),y(c,"for","word"),y(d,"id","word"),y(d,"autocomplete","off"),y(d,"maxlength","5"),y(d,"class","svelte-1ln4fy5"),y(p,"class","svelte-1ln4fy5"),y(u,"class","input-group svelte-1ln4fy5"),y(x,"class","result svelte-1ln4fy5"),w(x,"error",e[0].length>0),n.open=!0,y(n,"class","svelte-1ln4fy5"),y(t,"class","dialog-overlay svelte-1ln4fy5")},m(r,f){i(r,t,f),a(t,n),a(n,l),a(n,o),a(n,c),a(n,s),a(n,u),a(u,d),$(d,e[2]),a(u,g),a(u,p),a(n,v),a(n,x),E.m(x,null),_||(k=[b(d,"input",e[5]),b(p,"click",e[4])],_=!0)},p(e,t){4&t&&d.value!==e[2]&&$(d,e[2]),G===(G=C(e))&&E?E.p(e,t):(E.d(1),E=G(e),E&&(E.c(),E.m(x,null))),1&t&&w(x,"error",e[0].length>0)},d(e){e&&f(t),E.d(),_=!1,r(k)}}}function $e(t){let n;return{c(){n=g(" ")},m(e,t){i(e,n,t)},p:e,d(e){e&&f(n)}}}function we(e){let t,n;return{c(){t=h("a"),n=g(e[1]),y(t,"href",e[1])},m(e,r){i(e,t,r),a(t,n)},p(e,r){2&r&&v(n,e[1]),2&r&&y(t,"href",e[1])},d(e){e&&f(t)}}}function xe(e){let t;return{c(){t=g(e[0])},m(e,n){i(e,t,n)},p(e,n){1&n&&v(t,e[0])},d(e){e&&f(t)}}}function _e(t){let n,r=!t[3]&&ve(t);return{c(){r&&r.c(),n=p()},m(e,t){r&&r.m(e,t),i(e,n,t)},p(e,[t]){e[3]?r&&(r.d(1),r=null):r?r.p(e,t):(r=ve(e),r.c(),r.m(n.parentNode,n))},i:e,o:e,d(e){r&&r.d(e),e&&f(n)}}}function ke(e,t,n){let r;u(e,te,(e=>n(3,r=e)));let l="",o="",c="";return[l,o,c,r,e=>{e.preventDefault(),n(0,l=""),n(1,o="");const t=c.toLowerCase();/[a-z]{5}/.test(t)?n(1,o=`${window.location.href}?id=${W.encode(t)}`):n(0,l="Does that look like five letters to you?")},function(){c=this.value,n(2,c)}]}class Ce extends H{constructor(e){super(),B(this,e,ke,_e,o,{})}}function Ge(t){let n,r,l,o,c,s,u;return r=new ae({}),o=new ye({}),s=new Ce({}),{c(){n=h("main"),T(r.$$.fragment),l=m(),T(o.$$.fragment),c=m(),T(s.$$.fragment),y(n,"class","svelte-lvux8k")},m(e,t){i(e,n,t),D(r,n,null),a(n,l),D(o,n,null),a(n,c),D(s,n,null),u=!0},p:e,i(e){u||(O(r.$$.fragment,e),O(o.$$.fragment,e),O(s.$$.fragment,e),u=!0)},o(e){P(r.$$.fragment,e),P(o.$$.fragment,e),P(s.$$.fragment,e),u=!1},d(e){e&&f(n),K(r),K(o),K(s)}}}return new class extends H{constructor(e){super(),B(this,e,null,Ge,o,{})}}({target:document.body})}();
